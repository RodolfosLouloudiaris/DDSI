{% extends "base.html" %}
{% block content %}

<h2>ðŸ§º Cart</h2>

{% if not items %}
  <p>Cart is empty. <a href="{{ url_for('customer.shop') }}">Go shopping</a></p>
{% else %}
<form method="post" action="{{ url_for('customer.cart_update') }}">
  <table border="1" cellpadding="8">
    <tr>
      <th>Product</th>
      <th>Price</th>
      <th>Qty</th>
      <th>Subtotal</th>
    </tr>
    {% for it in items %}
    <tr>
      <td>{{ it.product.name }}</td>
      <td>{{ it.product.price }}</td>
      <td>
        <input type="number" min="0" name="qty_{{ it.product.product_id }}" value="{{ it.qty }}">
      </td>
      <td>{{ it.subtotal }}</td>
    </tr>
    {% endfor %}
  </table>

  <h3>Total: {{ total }}</h3>

  <button type="submit">Update cart</button>
</form>

<form method="post" action="{{ url_for('customer.cart_clear') }}" style="margin-top:10px;">
  <button type="submit">Clear cart</button>
</form>

<br>
<a href="{{ url_for('customer.checkout') }}">âœ… Checkout</a> | <a href="{{ url_for('customer.shop') }}">Continue shopping</a>
{% endif %}

{% endblock %}
